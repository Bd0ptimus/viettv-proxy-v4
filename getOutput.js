// const proxy_url = 'http://127.0.0.1:8080'
// const video_url = 'http://118.70.233.58:5010/channels/K_cine/K_cine.m3u8'
// const file_extension = '.m3u8'

// const hls_proxy_url = `${proxy_url}/${btoa(video_url)}${file_extension}`
// console.log('hls_proxy_url: ', hls_proxy_url)

var aesEcb = require('aes-ecb');
const fs = require('fs');
const content = fs.readFileSync('./playlist.m3u8', { encoding: 'utf-8'});
require("dotenv").config();
// console.log('content: ', content, '---> type : ', typeof content);
const m3u8Parser = require('m3u8-parser');

// const manifest = '#EXTM3U\n#EXTINF:0 tvg-rec="0",Arena Sport 1 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7263/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 1 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7329/index.m3u8\n#EXTINF:0 tvg-rec="3",Arena Sport 1 SK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2550/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 2 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7264/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 2 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7330/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 3 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7265/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 3 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7331/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 4 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7266/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 4 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7332/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 5 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7267/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 5 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7333/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 6 FHD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7268/index.m3u8\n#EXTINF:0 tvg-rec="0",Arena Sport 6 HD HR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7334/index.m3u8\n#EXTINF:0 tvg-rec="0",Band Sports BR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6158/index.m3u8\n#EXTINF:0 tvg-rec="3",Bein Sports 1 HD FR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2499/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 1 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6123/index.m3u8\n#EXTINF:0 tvg-rec="3",Bein Sports 2 HD FR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2500/index.m3u8\n#EXTINF:0 tvg-rec="3",Bein Sports 3 HD FR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2501/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 3 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6124/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 4 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6125/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 5 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6126/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 6 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6127/index.m3u8\n#EXTINF:0 tvg-rec="0",beIN Sports 7 HD QA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6128/index.m3u8\n#EXTINF:0 tvg-rec="3",TNT Sports 1 HD UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6566/index.m3u8\n#EXTINF:0 tvg-rec="3",TNT Sports 1 UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2505/index.m3u8\n#EXTINF:0 tvg-rec="3",TNT Sports 2 HD UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2506/index.m3u8\n#EXTINF:0 tvg-rec="3",TNT Sports 3 HD UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6564/index.m3u8\n#EXTINF:0 tvg-rec="0",TV4 Fotboll HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12032/index.m3u8\n#EXTINF:0 tvg-rec="0",TV4 Hits HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12034/index.m3u8\n#EXTINF:0 tvg-rec="0",TV4 Hockey HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12035/index.m3u8\n#EXTINF:0 tvg-rec="3",MTV Viihde HD FI\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2541/index.m3u8\n#EXTINF:0 tvg-rec="3",C More Sport HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2515/index.m3u8\n#EXTINF:0 tvg-rec="0",TV4 Stars HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12042/index.m3u8\n#EXTINF:0 tvg-rec="3",Canal+ Sport HD FR\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2502/index.m3u8\n#EXTINF:0 tvg-rec="0",CBS SPORTS NETWORK US\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7324/index.m3u8\n#EXTINF:0 tvg-rec="3",ČT sport HD CZ\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2551/index.m3u8\n#EXTINF:0 tvg-rec="3",DIGI Sport 1 HD RO\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2523/index.m3u8\n#EXTINF:0 tvg-rec="3",DIGI Sport 2 HD RO\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2522/index.m3u8\n#EXTINF:0 tvg-rec="3",DIGI Sport 3 HD RO\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2524/index.m3u8\n#EXTINF:0 tvg-rec="3",DIGI Sport 4 HD RO\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2538/index.m3u8\n#EXTINF:0 tvg-rec="3",Eleven Sports 1 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2518/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 1 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2531/index.m3u8\n#EXTINF:0 tvg-rec="3",Eleven Sports 2 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2517/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 2 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2532/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 3 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7062/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 4 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2534/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 5 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2535/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 6 PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2536/index.m3u8\n#EXTINF:0 tvg-rec="3",DAZN 6 HD PT\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7064/index.m3u8\n#EXTINF:0 tvg-rec="7",Eurosport 1\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/141/index.m3u8\n#EXTINF:0 tvg-rec="7",Eurosport 1 HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/228/index.m3u8\n#EXTINF:0 tvg-rec="3",Eurosport 1 HD orig\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/5075/index.m3u8\n#EXTINF:0 tvg-rec="0",EUROSPORT 1 HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12047/index.m3u8\n#EXTINF:0 tvg-rec="3",Eurosport 2 HD orig\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/5076/index.m3u8\n#EXTINF:0 tvg-rec="0",EUROSPORT 2 HD SE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/12048/index.m3u8\n#EXTINF:0 tvg-rec="3",Eurosport 2 HD UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6556/index.m3u8\n#EXTINF:0 tvg-rec="0",Eurosport HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/15179/index.m3u8\n#EXTINF:0 tvg-rec="0",FOX SPORTS 1 US\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7322/index.m3u8\n#EXTINF:0 tvg-rec="0",FOX SPORTS 2 US\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7323/index.m3u8\n#EXTINF:0 tvg-rec="0",ICTV 2 HD UA\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/15235/index.m3u8\n#EXTINF:0 tvg-rec="7",KHL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/519/index.m3u8\n#EXTINF:0 tvg-rec="7",MMA-TV.com\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/843/index.m3u8\n#EXTINF:0 tvg-rec="3",Motorvision TV DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6112/index.m3u8\n#EXTINF:0 tvg-rec="3",M+ LaLiga TV ES\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6073/index.m3u8\n#EXTINF:0 tvg-rec="0",NBC SPORTS NETWORK US\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7327/index.m3u8\n#EXTINF:0 tvg-rec="0",NHL Network HD US\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7328/index.m3u8\n#EXTINF:0 tvg-rec="3",Nova Sport 1 HD CZ\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2555/index.m3u8\n#EXTINF:0 tvg-rec="3",Nova Sport 2 HD CZ\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2556/index.m3u8\n#EXTINF:0 tvg-rec="3",Canal+ Sport 5 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2519/index.m3u8\n#EXTINF:0 tvg-rec="3",ONTime Sports EG\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2512/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport 2 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7310/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport 1 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7296/index.m3u8\n#EXTINF:0 tvg-rec="0",POLSAT SPORT FIGHT HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7311/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport 3 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7303/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 1 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7304/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 2 HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7305/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 3 PPV HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7306/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 4 PPV HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7307/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 5 PPV HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7308/index.m3u8\n#EXTINF:0 tvg-rec="0",Polsat Sport Premium 6 PPV HD PL\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7309/index.m3u8\n#EXTINF:0 tvg-rec="3",Premier Sports 1 HD UK\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6555/index.m3u8\n#EXTINF:0 tvg-rec="0",Q Sport.KG HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/15238/index.m3u8\n#EXTINF:0 tvg-rec="0",Red Bull TV\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/16039/index.m3u8\n#EXTINF:0 tvg-rec="0",Red Bull TV HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/16040/index.m3u8\n#EXTINF:0 tvg-rec="3",Setanta Eurasia HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/271/index.m3u8\n#EXTINF:0 tvg-rec="3",Setanta Eurasia Plus HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/270/index.m3u8\n#EXTINF:0 tvg-rec="3",Setanta Sports 1 Baltic HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/5069/index.m3u8\n#EXTINF:0 tvg-rec="3",Setanta Ukraine HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/272/index.m3u8\n#EXTINF:0 tvg-rec="3",Setanta Ukraine Plus HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/5068/index.m3u8\n#EXTINF:0 tvg-rec="0",SKY HIGH FIGHT HD\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/15097/index.m3u8\n#EXTINF:0 tvg-rec="0",Sky Racing AU\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6122/index.m3u8\n#EXTINF:0 tvg-rec="3",Sky Sport 1 HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2478/index.m3u8\n#EXTINF:0 tvg-rec="3",Sky Sport 2 HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2479/index.m3u8\n#EXTINF:0 tvg-rec="3",Sky Sport Austria 1 HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2492/index.m3u8\n#EXTINF:0 tvg-rec="3",Sky Sport Austria 2 DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/6113/index.m3u8\n#EXTINF:0 tvg-rec="3",Sky Sport Bundesliga 1 HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/2480/index.m3u8\n#EXTINF:0 tvg-rec="0",Sky Sport Bundesliga 2 HD DE\n#EXTGRP:Thể thao bóng đá\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/7234/index.m3u8'
// const manifest = '#EXTINF:0 tvg-rec="3",Eurosport 1 orig\n#EXTGRP:Kênh Nga\nhttp://ehglurqp.ottclub.xyz/iptv/S5CF9NUDFGZ6Q4/9247/index.m3u8'


var parser = new m3u8Parser.Parser();

parser.push(content);
parser.end();

var parsedManifest = parser.manifest;

const segments = parsedManifest.segments

segments.forEach((segment, index) => {
    if (index > 700 || index < 600) return
    const name = segment.title.split(',')[1]
    const url = segment.uri
    // console.log(name, url)
    console.log('UPDATE tv_channels SET channel_url = ' + '"http://proxy-eu.viet-tv.online/'+ aesEcb.encrypt(process.env.TOKEN, url)+'.m3u8" where channel_name = "' + name + '";')
})

// console.log('parsedManifest: ', parsedManifest)